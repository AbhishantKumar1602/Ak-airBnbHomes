<%- include('../partials/head') %>
</head>
    
<body class="bg-[#fafafa] text-[#222] leading-relaxed">
  <!-- Header -->
  <%- include('../partials/headerNav') %>

  <!-- Hero -->
  <main class="text-center py-8 px-6 bg-gradient-to-r from-[#ff7a7a] to-[#ff385c] text-white rounded-3xl">
    <p class="text-4xl font-bold mb-6">Hey Host! Here are your homes</p>
  </main>

<!-- Homes Grid Section -->
<section class="mt-20 px-6 md:px-12 max-w-7xl mx-auto">
  <h2 class="text-3xl font-bold mb-10 text-gray-900 tracking-tight">Available Homes</h2>

  <!-- Grid container -->
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
  <% (homesData || []).forEach(home => { %>
      <div class="bg-white rounded-2xl shadow-md overflow-hidden 
                  transition transform hover:-translate-y-2 hover:shadow-xl duration-300 ease-in-out">

        <!-- Cover Image (First photo) -->
        <% if (home.photos && home.photos.length) { %>
          <img src="/uploads/<%= Array.isArray(home.photos) ? home.photos[0] : home.photos %>" 
               alt="Home Cover" 
               class="w-full h-56 object-cover" />
        <% } else { %>
          <!-- fallback placeholder -->
          <div class="w-full h-56 bg-gray-200 flex items-center justify-center text-gray-500">
            No Image
          </div>
        <% } %>

        <!-- Card Content -->
        <div class="p-4">
          <h3 class="font-semibold text-gray-900 text-lg mb-1 truncate"><%= home.houseName %></h3>
          <p class="text-sm text-gray-600 truncate"><%= home.homeLocation %></p>
          <p class="text-sm text-gray-500 truncate mb-3"><%= home.contactInfo %></p>
          <p class="text-sm text-gray-700 mb-1">Price per night: <span class="font-bold">₹<%= home.pricePerNight %></span></p>

          <p class="text-sm text-yellow-600 mb-1">Rating: <span class="font-bold"><%= home.rating %></span> ⭐</p>
          <!-- Edit and Delete Buttons -->
          <div class="mt-4 flex justify-center gap-4">
            <a href="/host/edit-homes/<%= home._id %>?action=edit" class="inline-block bg-blue-600 text-white px-5 py-2 rounded-full font-semibold shadow hover:bg-blue-700 transition">Edit</a>
            <form action="/host/delete-home/<%= home._id %>" method="POST" style="display:inline;">
              <button type="submit" class="inline-block bg-red-600 text-white px-5 py-2 rounded-full font-semibold shadow hover:bg-red-700 transition">Delete</button>
            </form>
          </div>

          <!-- Extra thumbnails if more than one photo -->
          <% if (home.photos && Array.isArray(home.photos) && home.photos.length > 1) { %>
            <div class="flex gap-2 mt-3">
              <% home.photos.slice(1).forEach(photo => { %>
                <img src="/uploads/<%= photo %>"  
                     alt="Home Thumbnail" 
                     class="w-12 h-12 object-cover rounded border" />
              <% }); %>
            </div>
          <% } %>
        </div>
      </div>
    <% }); %>
  </div>
</section>




<!-- Add this CSS (tailwind utility) -->
<style>
  .scrollbar-hide::-webkit-scrollbar { display: none; }
  .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
</style>


  <!-- Footer -->
  <footer class="text-center py-6 bg-white mt-16 border-t border-gray-300 sticky">
    <p>© 2025 Airbnb Clone | Made with ❤️</p>
  </footer>
</body>
</html>
